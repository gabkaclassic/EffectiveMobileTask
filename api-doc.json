{"openapi":"3.0.1","servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Посты","description":"Взаимодействие с лентой активности"},{"name":"Чаты","description":"Создание и получение чатов"},{"name":"Пользователи","description":"Взаимодействие пользователей друг с другом, получение выборки пользователей"}],"paths":{"/post":{"post":{"tags":["Посты"],"summary":"Создание","description":"Создание поста с текстом и (опционально) с фото. Возвращает список ошибок о невалидности входных данных","operationId":"createPost","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostDTO"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}},"security":[{"JWT":[]}]},"delete":{"tags":["Посты"],"summary":"Удаление","description":"Удаление поста его создателем","operationId":"deletePost","parameters":[{"name":"postId","in":"query","description":"ID поста","required":true,"schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}},"security":[{"JWT":[]}]}},"/chat":{"get":{"tags":["Чаты"],"summary":"Получение чата","description":"Получение чата по его ID","operationId":"getChat","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}},{"name":"chatId","in":"query","description":"ID чата","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Chat"}}}}},"security":[{"JWT":[]}]},"post":{"tags":["Чаты"],"summary":"Создание","description":"Запрос на общение с другом для создания нового чата, возвращает ID созданного чата","operationId":"createChat","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Chat"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"JWT":[]}]}},"/account/send_request":{"post":{"tags":["Пользователи"],"summary":"Запрос на дружбу","description":"Отправка заявки на дружбу другому пользователю","operationId":"sendRequest","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}},{"name":"targetUsername","in":"query","description":"Имя пользователя, которому отправляется заявка","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"/account/reject_request":{"post":{"tags":["Пользователи"],"summary":"Отклонение запроса","description":"Отказ от предложения дружбы","operationId":"rejectRequest","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}},{"name":"username","in":"query","description":"Имя пользователя, которому отказывают в дружбе","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"/account/reject_friend":{"post":{"tags":["Пользователи"],"summary":"Отписка","description":"Отказ от дружбы с пользователем","operationId":"rejectFriend","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}},{"name":"targetUsername","in":"query","description":"Имя пользователя, от которого отписываются","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"/account/registration":{"post":{"tags":["Пользователи"],"summary":"Регистрация","description":"Создание нового аккаунта, возвращает список ошибок о невалидности входных данный","operationId":"registration","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/account/confirm_request":{"post":{"tags":["Пользователи"],"summary":"Одобрение запроса","description":"Одобрение предложения дружбы","operationId":"confirmRequest","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}},{"name":"username","in":"query","description":"Имя пользователя, которому одобрили запрос дружбы","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}},"security":[{"JWT":[]}]}},"/account/auth":{"post":{"tags":["Пользователи"],"summary":"Авторизация","description":"Вход в аккаунт с помощью логина и пароля, возвращает JWT Bearer токен, по которому производится дальнейшее взаимодействие ","operationId":"auth","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/v2/api-docs":{"get":{"tags":["swagger-2-controller-web-flux"],"operationId":"getDocumentation","parameters":[{"name":"group","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}},"application/hal+json":{"schema":{"type":"string"}}}}}}},"/swagger-resources/configuration/ui":{"get":{"tags":["api-resource-controller"],"operationId":"uiConfiguration","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UiConfiguration"}}}}}}},"/swagger-resources/configuration/security":{"get":{"tags":["api-resource-controller"],"operationId":"securityConfiguration","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SecurityConfiguration"}}}}}}},"/swagger-resources":{"get":{"tags":["api-resource-controller"],"operationId":"swaggerResources","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SwaggerResource"}}}}}}}},"/post/feed":{"get":{"tags":["Посты"],"summary":"Лента активности","description":"Получение постов пользователей, на которых подписан текущий пользователь","operationId":"getActivityFeed","parameters":[{"name":"Authorization","in":"header","description":"Токен авторизации","required":true,"schema":{"type":"string"}},{"name":"orderDesc","in":"query","description":"Порядок сортировеи по дате (true - обратный порядок","required":false,"schema":{"type":"boolean","default":true}},{"name":"pageSize","in":"query","description":"Размер страницы (по умолчанию - 3)","required":false,"schema":{"type":"integer","format":"int32","default":3}},{"name":"pageNumber","in":"query","description":"Номер страницы (по умолчанию - 0)","required":false,"schema":{"type":"integer","format":"int32","default":0}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Post"}}}}}},"security":[{"JWT":[]}]}},"/account/relations":{"get":{"tags":["Пользователи"],"summary":"Подписчики","description":"Получение ников пользователей, находящихся в указанном типе связи с переданным пользователем (SUBSCRIBER - подписчики, FRIEND - друзья и подписчики, REQUEST - необработанные заявки)","operationId":"getSubscribers","parameters":[{"name":"username","in":"query","description":"Имя пользователя","required":true,"schema":{"type":"string"}},{"name":"relationType","in":"query","description":"Имя пользователя","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}},"security":[{"JWT":[]}]}}},"components":{"schemas":{"PostDTO":{"type":"object","properties":{"subject":{"type":"string","description":"Тема поста"},"content":{"type":"string","description":"Текст поста"},"files":{"type":"array","description":"Прилагаемые файла","items":{"type":"object","description":"Прилагаемые файла"}}},"description":"Параметры в формате form-data (subject - тема поста, content - текст поста, files - прилагаемые файлы (опционально))"},"Chat":{"type":"object","properties":{"id":{"type":"string"},"creator":{"type":"string","description":"Создатель чата"},"participant":{"type":"string","description":"Второй участник (в дальнейшем таким же образом можно сделать несколько участников)"}},"description":"JSON с полями creator (создатель чата) и participant (второй участник)"},"Account":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string","description":"Имя пользователя"},"password":{"type":"string","description":"Пароль"},"email":{"type":"string","description":"Электронная почта"},"confirmationCode":{"type":"string","description":"Код подтверждения почты (для будущего функционала)"},"authorities":{"type":"array","description":"Роли пользователя","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"enabled":{"type":"boolean"}},"description":"JSON с полями username и password"},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}},"description":"Роли пользователя"},"UiConfiguration":{"type":"object","properties":{"deepLinking":{"type":"boolean"},"displayOperationId":{"type":"boolean"},"defaultModelsExpandDepth":{"type":"integer","format":"int32"},"defaultModelExpandDepth":{"type":"integer","format":"int32"},"defaultModelRendering":{"type":"string","enum":["example","model"]},"displayRequestDuration":{"type":"boolean"},"docExpansion":{"type":"string","enum":["none","list","full"]},"filter":{"type":"object"},"maxDisplayedTags":{"type":"integer","format":"int32"},"operationsSorter":{"type":"string","enum":["alpha","method"]},"showExtensions":{"type":"boolean"},"showCommonExtensions":{"type":"boolean"},"tagsSorter":{"type":"string","enum":["alpha"]},"validatorUrl":{"type":"string"},"supportedSubmitMethods":{"type":"array","items":{"type":"string"}},"swaggerBaseUiUrl":{"type":"string"}}},"SecurityConfiguration":{"type":"object","properties":{"apiKey":{"type":"string","deprecated":true},"apiKeyVehicle":{"type":"string","deprecated":true},"apiKeyName":{"type":"string","deprecated":true},"clientId":{"type":"string"},"clientSecret":{"type":"string"},"realm":{"type":"string"},"appName":{"type":"string"},"scopeSeparator":{"type":"string"},"additionalQueryStringParams":{"type":"object","additionalProperties":{"type":"object"}},"useBasicAuthenticationWithAccessCodeGrant":{"type":"boolean"},"enableCsrfSupport":{"type":"boolean"}}},"SwaggerResource":{"type":"object","properties":{"name":{"type":"string"},"url":{"type":"string"},"swaggerVersion":{"type":"string"},"location":{"type":"string","deprecated":true}}},"Post":{"type":"object","properties":{"id":{"type":"string"},"subject":{"type":"string","description":"Тема поста"},"content":{"type":"string","description":"Текст поста"},"author":{"type":"string","description":"ID автора"},"creationTime":{"type":"string","description":"Время создания","format":"date-time"},"files":{"type":"array","description":"Пути до файлов в S3 (чтобы получить, нужно подставить оставшуюся часть ссылки на фронте)","items":{"type":"string","description":"Пути до файлов в S3 (чтобы получить, нужно подставить оставшуюся часть ссылки на фронте)"}}},"description":"Сущность постов"}},"securitySchemes":{"JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
